<!DOCTYPE html>
<html lang="">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>回答面经 | 蘑菇小记</title>
    <link rel="stylesheet" href="/css/breeze.css">
    <script src="/js/toc.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const backToTopButton = document.getElementById('back-to-top');

            // 当页面滚动超过 300px 时显示按钮
            window.onscroll = function() {
                if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
                backToTopButton.style.display = "block";
                } else {
                backToTopButton.style.display = "none";
                }
            };
            
            // 点击按钮时平滑滚动回顶部
            backToTopButton.addEventListener('click', function() {
                const scrollToTop = function() {
                    const c = document.documentElement.scrollTop || document.body.scrollTop;
                    if (c > 0) {
                    window.requestAnimationFrame(scrollToTop);
                    window.scrollTo(0, c - c / 8);
                    }
                };
                scrollToTop();
            });
        });
        window.isMobile = /mobile|android|iphone|ipad|phone/i.test(navigator.userAgent);
    </script>

    
<meta name="generator" content="Hexo 5.4.2"></head>
    
  <body>
    <div class="container">
      <header class="header-container post-header">
    <div class="title">
        <img src="/images/Icon-leaf.png" class="leaf-icon">
        <a href="/">蘑菇小记</a>
    </div>
    <nav class="nav">
        <ul>
            
                <li><a href="/archives" class="nav-item">Archives</a></li>
            
                <li><a href="/about" class="nav-item">About</a></li>
            
          </ul>
    </nav>
</header>

      <div class="main-content">
        
          

<aside class="post-toc">
    <div class="toc-wrapper collapsed">
  <div class="toc-toggle">
    <span class="toc-toggle-icon"></span>
  </div>
  <div class="toc-content">
    
      <div class="toc-body">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E9%A2%98"><span class="toc-text">高级题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%A0%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%93%8D%E5%BA%94%E5%BC%8F%E7%9A%84%E7%9B%91%E5%90%AC%E7%B3%BB%E7%BB%9F%EF%BC%8C%E8%83%BD%E7%9B%91%E5%90%AC%E4%BB%BB%E6%84%8F%E5%B5%8C%E5%A5%97%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E7%9A%84%E5%8F%98%E5%8C%96%EF%BC%9F%E4%B8%8D%E4%BD%BF%E7%94%A8-Vue-Proxy%E3%80%82"><span class="toc-text">你如何实现一个响应式的监听系统，能监听任意嵌套对象属性的变化？不使用 Vue&#x2F;Proxy。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%A0%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%93%8D%E5%BA%94%E5%BC%8F%E8%A1%A8%E5%8D%95%E7%B3%BB%E7%BB%9F%EF%BC%9F%E8%A6%81%E6%B1%82%E6%94%AF%E6%8C%81%E5%8A%A8%E6%80%81%E5%AD%97%E6%AE%B5%E3%80%81%E5%AD%97%E6%AE%B5%E6%A0%A1%E9%AA%8C%E4%BE%9D%E8%B5%96%E3%80%81%E5%AD%97%E6%AE%B5%E8%81%94%E5%8A%A8%EF%BC%8C%E4%BB%A5%E5%8F%8A%E5%AF%B9%E5%B5%8C%E5%A5%97%E7%BB%93%E6%9E%84%E7%9A%84%E5%85%BC%E5%AE%B9%E6%80%A7%E3%80%82"><span class="toc-text">你如何实现一个响应式表单系统？要求支持动态字段、字段校验依赖、字段联动，以及对嵌套结构的兼容性。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%80%8CReact-Vue-%E6%A1%86%E6%9E%B6%E5%8E%9F%E7%90%86%E3%80%8D"><span class="toc-text">「React &#x2F; Vue 框架原理」</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#React-Vue-%E4%B8%AD%EF%BC%8C%E7%BB%84%E4%BB%B6%E6%9B%B4%E6%96%B0%E7%9A%84%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F%E8%AF%B7%E4%BB%8E-Virtual-DOM%E3%80%81Diff-%E7%AE%97%E6%B3%95%E3%80%81%E7%8A%B6%E6%80%81%E6%9B%B4%E6%96%B0%E7%AD%89%E6%96%B9%E9%9D%A2%E5%88%86%E6%9E%90%E3%80%82"><span class="toc-text">React&#x2F;Vue 中，组件更新的性能优化有哪些？请从 Virtual DOM、Diff 算法、状态更新等方面分析。</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%A0%E6%98%AF%E5%A6%82%E4%BD%95%E5%88%86%E6%9E%90%E6%89%93%E5%8C%85%E4%BD%93%E7%A7%AF%E8%BF%87%E5%A4%A7%E7%9A%84%E7%BB%84%E4%BB%B6%E7%9A%84%EF%BC%9F"><span class="toc-text">你是如何分析打包体积过大的组件的？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E5%87%BD%E6%95%B0%E6%9F%AF%E9%87%8C%E5%8C%96%EF%BC%88%E6%94%AF%E6%8C%81%E5%A4%9A%E6%AC%A1%E8%B0%83%E7%94%A8%EF%BC%89"><span class="toc-text">实现函数柯里化（支持多次调用）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF%E9%A2%98"><span class="toc-text">场景题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%A0%E8%A6%81%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%B8%A6%E4%BE%A7%E8%BE%B9%E6%A0%8F%E7%9A%84%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%EF%BC%8C%E8%AF%A5%E7%B3%BB%E7%BB%9F%E9%9C%80%E8%A6%81%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6%EF%BC%8C%E4%B8%8D%E5%90%8C%E8%A7%92%E8%89%B2%E6%98%BE%E7%A4%BA%E4%B8%8D%E5%90%8C%E8%8F%9C%E5%8D%95%E3%80%82%E4%BD%A0%E4%BC%9A%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E8%B7%AF%E7%94%B1%E4%B8%8E%E8%8F%9C%E5%8D%95%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%9D%83%E9%99%90%E5%85%B3%E8%81%94%EF%BC%9F%E8%AF%B7%E5%88%97%E5%87%BA%E4%BD%A0%E7%9A%84%E6%80%9D%E8%B7%AF%E5%92%8C%E6%96%B9%E6%A1%88%E3%80%82"><span class="toc-text">你要开发一个带侧边栏的后台管理系统，该系统需要权限控制，不同角色显示不同菜单。你会如何设计路由与菜单系统的权限关联？请列出你的思路和方案。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%A0%E5%9C%A8%E5%81%9A%E4%B8%80%E4%B8%AA%E5%86%85%E5%AE%B9%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%EF%BC%88CMS%EF%BC%89%EF%BC%8C%E9%9C%80%E8%A6%81%E7%BB%99%E7%BC%96%E8%BE%91%E5%92%8C%E7%AE%A1%E7%90%86%E5%91%98%E5%88%86%E5%88%AB%E5%B1%95%E7%A4%BA%E4%B8%8D%E5%90%8C%E7%9A%84%E6%93%8D%E4%BD%9C%E6%9D%83%E9%99%90%E9%A1%B5%E9%9D%A2%EF%BC%88%E5%A6%82%E5%AE%A1%E6%A0%B8%E3%80%81%E5%8F%91%E5%B8%83%E3%80%81%E5%88%A0%E9%99%A4%E7%AD%89%EF%BC%89%E3%80%82%E4%BD%A0%E4%BC%9A%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E6%9D%83%E9%99%90%E7%B3%BB%E7%BB%9F%EF%BC%8C%E5%81%9A%E5%88%B0%E7%81%B5%E6%B4%BB%E9%85%8D%E7%BD%AE%E5%92%8C%E5%89%8D%E7%AB%AF%E5%88%A4%E6%96%AD%EF%BC%9F"><span class="toc-text">你在做一个内容管理系统（CMS），需要给编辑和管理员分别展示不同的操作权限页面（如审核、发布、删除等）。你会如何设计权限系统，做到灵活配置和前端判断？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%80%8C%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E7%B1%BB%E3%80%8D"><span class="toc-text">「系统设计类」</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AC%E5%8F%B8%E6%96%B0%E4%B8%8A%E7%BA%BF%E4%BA%86%E4%B8%80%E4%B8%AA%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%EF%BC%8C%E6%9F%90%E9%A1%B5%E9%9D%A2%E7%9A%84%E5%8A%A0%E8%BD%BD%E9%80%9F%E5%BA%A6%E5%8F%98%E5%BE%97%E9%9D%9E%E5%B8%B8%E6%85%A2%EF%BC%8C%E8%AF%B7%E4%BD%A0%E4%BD%9C%E4%B8%BA%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88%E4%BB%8E%E4%BB%A5%E4%B8%8B%E8%A7%92%E5%BA%A6%E5%87%BA%E5%8F%91%E8%BF%9B%E8%A1%8C%E5%88%86%E6%9E%90%E5%92%8C%E4%BC%98%E5%8C%96%EF%BC%88%E5%8F%AF%E5%86%99%E5%87%BA%E5%A4%84%E7%90%86%E6%AD%A5%E9%AA%A4%E5%92%8C%E5%8F%AF%E8%83%BD%E7%9A%84%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96%E7%82%B9%EF%BC%89%EF%BC%9A"><span class="toc-text">公司新上线了一个后台管理系统，某页面的加载速度变得非常慢，请你作为前端工程师从以下角度出发进行分析和优化（可写出处理步骤和可能的代码优化点）：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B7%E7%AE%80%E8%A6%81%E9%98%90%E8%BF%B0-Virtual-DOM-%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%8C%E5%B9%B6%E8%AF%B4%E6%98%8E%E5%85%B6%E5%AF%B9%E6%80%A7%E8%83%BD%E7%9A%84%E4%BC%98%E5%8C%96%E4%BD%93%E7%8E%B0%E5%9C%A8%E5%93%AA%E4%BA%9B%E6%96%B9%E9%9D%A2%EF%BC%9F%E4%BD%A0%E5%9C%A8%E5%AE%9E%E9%99%85%E5%BC%80%E5%8F%91%E4%B8%AD%E6%98%AF%E5%90%A6%E9%81%87%E5%88%B0%E8%BF%87%E6%80%A7%E8%83%BD%E7%93%B6%E9%A2%88%EF%BC%8C%E5%A6%82%E4%BD%95%E5%AE%9A%E4%BD%8D%E5%92%8C%E4%BC%98%E5%8C%96%EF%BC%9F"><span class="toc-text">请简要阐述 Virtual DOM 的工作原理，并说明其对性能的优化体现在哪些方面？你在实际开发中是否遇到过性能瓶颈，如何定位和优化？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%90%E4%B8%AA%E4%B8%8A%E7%BA%BF%E5%90%8E%E7%9A%84%E9%A1%B5%E9%9D%A2%EF%BC%8C%E7%94%A8%E6%88%B7%E5%8F%8D%E9%A6%88%E2%80%9C%E7%82%B9%E5%87%BB%E4%BF%9D%E5%AD%98%E6%8C%89%E9%92%AE%E5%90%8E%E9%A1%B5%E9%9D%A2%E5%8D%A1%E4%BD%8F%EF%BC%8C%E6%97%A0%E4%BB%BB%E4%BD%95%E5%8F%8D%E9%A6%88%E2%80%9D%E3%80%82%E4%BD%A0%E4%BD%9C%E4%B8%BA%E7%A0%94%E5%8F%91%E8%B4%9F%E8%B4%A3%E4%BA%BA%EF%BC%8C%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E5%AE%9A%E4%BD%8D%E9%97%AE%E9%A2%98%EF%BC%9F%E8%AF%B7%E5%88%97%E5%87%BA%E8%87%B3%E5%B0%91-5-%E4%B8%AA%E6%8E%92%E6%9F%A5%E6%96%B9%E5%90%91%E3%80%82"><span class="toc-text">某个上线后的页面，用户反馈“点击保存按钮后页面卡住，无任何反馈”。你作为研发负责人，如何快速定位问题？请列出至少 5 个排查方向。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%90%E4%B8%9A%E5%8A%A1%E7%B3%BB%E7%BB%9F%E5%9C%A8%E6%9C%80%E8%BF%91%E4%B8%80%E4%B8%AA%E6%9C%88%E5%86%85%E5%81%B6%E5%B0%94%E4%BC%9A%E5%87%BA%E7%8E%B0%E2%80%9C%E4%B8%8B%E5%8D%95%E5%A4%B1%E8%B4%A5%E2%80%9D%EF%BC%8C%E7%94%A8%E6%88%B7%E6%8A%95%E8%AF%89%E8%B6%8A%E6%9D%A5%E8%B6%8A%E5%A4%9A%E3%80%82%E4%BD%A0%E5%8F%91%E7%8E%B0%E6%97%A5%E5%BF%97%E9%87%8C%E6%8A%A5%E9%94%99-%E2%80%9CorderCreate-failed-stock-info-invalid%E2%80%9D%EF%BC%8C%E4%BD%86%E6%9C%89%E6%97%B6%E5%88%B7%E6%96%B0%E9%A1%B5%E9%9D%A2%E5%90%8E%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%B8%8B%E5%8D%95%E3%80%82%E8%AF%B7%E5%88%97%E5%87%BA-3-%E7%A7%8D%E5%8F%AF%E8%83%BD%E7%9A%84%E6%8A%80%E6%9C%AF%E5%8E%9F%E5%9B%A0%E5%92%8C%E9%AA%8C%E8%AF%81%E6%80%9D%E8%B7%AF%E3%80%82"><span class="toc-text">某业务系统在最近一个月内偶尔会出现“下单失败”，用户投诉越来越多。你发现日志里报错 “orderCreate failed: stock info invalid”，但有时刷新页面后就可以下单。请列出 3 种可能的技术原因和验证思路。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%A0%E5%9C%A8%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8%E6%8F%92%E4%BB%B6%E6%97%B6%EF%BC%8C%E9%9C%80%E8%A6%81%E8%AE%B0%E5%BD%95%E7%94%A8%E6%88%B7%E6%AF%8F%E4%B8%80%E6%AD%A5%E6%93%8D%E4%BD%9C%EF%BC%8C%E4%BB%A5%E4%BE%BF%E6%8F%90%E4%BE%9B%E2%80%9C%E6%92%A4%E9%94%80-%E9%87%8D%E5%81%9A%E2%80%9D%E5%8A%9F%E8%83%BD%E3%80%82"><span class="toc-text">你在开发一个富文本编辑器插件时，需要记录用户每一步操作，以便提供“撤销&#x2F;重做”功能。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9C%80%E8%A6%81%E6%B8%B2%E6%9F%93%E5%A4%A7%E9%87%8F%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%80%8E%E4%B9%88%E4%BC%98%E5%8C%96"><span class="toc-text">需要渲染大量数据，怎么优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%88%97%E8%A1%A8%E6%BB%9A%E5%8A%A8%E5%BE%88%E5%8D%A1%EF%BC%8C%E6%80%8E%E4%B9%88%E6%8E%92%E6%9F%A5"><span class="toc-text">虚拟列表滚动很卡，怎么排查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%A7%E9%87%8F%E5%9B%BE%E7%89%87%E5%8A%A0%E8%BD%BD%E9%A1%B5%E9%9D%A2%E5%BE%88%E6%85%A2%EF%BC%8C%E6%80%8E%E4%B9%88%E4%BC%98%E5%8C%96%EF%BC%9F"><span class="toc-text">大量图片加载页面很慢，怎么优化？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9E%E7%AD%94%E5%8F%A3%E8%AF%80"><span class="toc-text">回答口诀</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E4%B8%80%E7%B3%BB%E5%88%97%E4%BC%98%E5%8C%96%E9%A2%98%E5%8F%AF%E4%BB%A5%E5%BC%80%E5%A4%B4%E8%AF%B4"><span class="toc-text">对一系列优化题可以开头说</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">总结</span></a></li></ol></li></ol>
      </div>
    
  </div>
</div>


</aside>

<article class="post-detail has-toc toc-collapsed">
    <div class="post-title-container">
        <h1 class="post-title">回答面经</h1>
    </div>
    <div class="post-meta">
        <time datetime="2025-04-29T09:58:49.000Z">2025-04-29</time>
        
          <div class="post-tags">
            
              <a href="/tags/%E5%A4%8D%E4%B9%A0/" class="post-tag">复习</a>
            
          </div>
        
        
  </div>
  <div class="post-content">
    

    <h2 id="高级题"><a href="#高级题" class="headerlink" title="高级题"></a>高级题</h2><h3 id="你如何实现一个响应式的监听系统，能监听任意嵌套对象属性的变化？不使用-Vue-Proxy。"><a href="#你如何实现一个响应式的监听系统，能监听任意嵌套对象属性的变化？不使用-Vue-Proxy。" class="headerlink" title="你如何实现一个响应式的监听系统，能监听任意嵌套对象属性的变化？不使用 Vue/Proxy。"></a>你如何实现一个响应式的监听系统，能监听任意嵌套对象属性的变化？不使用 Vue/Proxy。</h3><ul>
<li>Object.defineProperty / 嵌套对象(递归) / 发布订阅思维</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">defineReactive</span>(<span class="params">data, key, value</span>) &#123;</span><br><span class="line">    <span class="comment">// 创建消息中心实例</span></span><br><span class="line">    <span class="keyword">const</span> dep = <span class="keyword">new</span> <span class="title class_">Dep</span>() </span><br><span class="line"></span><br><span class="line">    <span class="comment">// 嵌套对象深度监听</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> value === <span class="string">&#x27;object&#x27;</span> &amp; value !== <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="title function_">observe</span>(value)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Object.defineProperty</span></span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(data, key, &#123;</span><br><span class="line">        <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="title class_">Dep</span>.<span class="property">target</span> &amp; dep.<span class="title function_">addSub</span>()</span><br><span class="line">            <span class="keyword">return</span> value</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">set</span>(<span class="params">newVal</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(val === newVal) <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">            value = newVal</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 深度监听</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">typeof</span> newVal === <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">                <span class="title function_">observe</span>(newVal)</span><br><span class="line">            &#125;</span><br><span class="line">            dep.<span class="title function_">notify</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">observe</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(!data || <span class="keyword">typeof</span> data !== <span class="string">&#x27;object&#x27;</span>) <span class="keyword">return</span> </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> data) &#123;</span><br><span class="line">        <span class="title function_">defineReactive</span>(data, key)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 依赖收集类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dep</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">subs</span> = []</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">addSub</span>(<span class="params">sub</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">subs</span>.<span class="title function_">push</span>(sub)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">notify</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">subs</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">sub</span> =&gt;</span> sub.<span class="title function_">update</span>())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Dep</span>.<span class="property">target</span> = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 订阅者类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Watcher</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">getter</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">getter</span> = getter</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">get</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Dep</span>.<span class="property">target</span> = <span class="variable language_">this</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">getter</span>() <span class="comment">// // 访问属性 → 触发 getter → 依赖收集</span></span><br><span class="line">        <span class="title class_">Dep</span>.<span class="property">target</span> = <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">update</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">get</span>() <span class="comment">// 简单逻辑：更新时重新执行</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> data = &#123;&#125;;</span><br><span class="line"><span class="title function_">defineReactive</span>(data, <span class="string">&#x27;msg&#x27;</span>, <span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Watcher</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;watcher run:&#x27;</span>, data.<span class="property">msg</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="你如何实现一个响应式表单系统？要求支持动态字段、字段校验依赖、字段联动，以及对嵌套结构的兼容性。"><a href="#你如何实现一个响应式表单系统？要求支持动态字段、字段校验依赖、字段联动，以及对嵌套结构的兼容性。" class="headerlink" title="你如何实现一个响应式表单系统？要求支持动态字段、字段校验依赖、字段联动，以及对嵌套结构的兼容性。"></a>你如何实现一个响应式表单系统？要求支持动态字段、字段校验依赖、字段联动，以及对嵌套结构的兼容性。</h3><p>思考：字段状态模型如何管理？数据和 UI 如何解耦？有哪些库的实现方式值得借鉴？</p>
<ul>
<li><p>表单数据结构，每个字段是一个对象</p>
</li>
<li><p>支持动态添加字段；通过children递归嵌套字段；字段联动依赖</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">FormField</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">value</span>: <span class="built_in">any</span>;</span><br><span class="line">    <span class="attr">rules</span>?: <span class="title class_">ValidationRule</span>[];</span><br><span class="line">    <span class="attr">visible</span>?: <span class="built_in">boolean</span>; <span class="comment">// 联动显示/隐藏</span></span><br><span class="line">    <span class="attr">dependencies</span>?: <span class="built_in">string</span>[]; <span class="comment">// 依赖字段联动</span></span><br><span class="line">    <span class="attr">children</span>?: <span class="title class_">FormField</span>[]; <span class="comment">// 嵌套结构支持</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">ValidationRule</span>: [</span><br><span class="line">    &#123; <span class="attr">require</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">    &#123; min/<span class="attr">max</span>: <span class="number">5</span> &#125;,</span><br><span class="line">    &#123; validator &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
<li><p>FormProvider状态管理，使用响应式管理字段状态</p>
</li>
<li><p>Vue: ref() + computed() / pinia</p>
</li>
<li><p>React: useReducer / zustand</p>
</li>
<li><p>每次字段变动时，自动触发依赖字段重计算/重渲染；检验相关字段</p>
</li>
<li><p>动态字段添加 &amp; 删除</p>
<ul>
<li>用数组管理 form.list.push({})</li>
</ul>
</li>
<li><p>useField() / useForm() hooks 提供访问能力（React）</p>
</li>
<li><p>可参考</p>
</li>
<li><p>React Hook Form</p>
</li>
<li><p>vue-dynamic-forms</p>
</li>
</ul>
<h3 id="「React-Vue-框架原理」"><a href="#「React-Vue-框架原理」" class="headerlink" title="「React / Vue 框架原理」"></a>「React / Vue 框架原理」</h3><h4 id="React-Vue-中，组件更新的性能优化有哪些？请从-Virtual-DOM、Diff-算法、状态更新等方面分析。"><a href="#React-Vue-中，组件更新的性能优化有哪些？请从-Virtual-DOM、Diff-算法、状态更新等方面分析。" class="headerlink" title="React/Vue 中，组件更新的性能优化有哪些？请从 Virtual DOM、Diff 算法、状态更新等方面分析。"></a>React/Vue 中，组件更新的性能优化有哪些？请从 Virtual DOM、Diff 算法、状态更新等方面分析。</h4><ul>
<li>考察点：</li>
<li>Reconciliation 机制</li>
<li>shouldComponentUpdate / memo / watchEffect</li>
<li>响应式追踪系统原理</li>
<li>子组件通信、状态分离策略等</li>
</ul>
<h3 id="你是如何分析打包体积过大的组件的？"><a href="#你是如何分析打包体积过大的组件的？" class="headerlink" title="你是如何分析打包体积过大的组件的？"></a>你是如何分析打包体积过大的组件的？</h3><ul>
<li>使用一些打包分析工具，如webpack-bundle-analyzer</li>
<li>动态引入（按需加载）（不全量引入 import *）</li>
<li>UI 库按需引入</li>
<li>静态资源优化  <ul>
<li>图片压缩，使用webP</li>
<li>字体图标精简，svg</li>
</ul>
</li>
</ul>
<h3 id="实现函数柯里化（支持多次调用）"><a href="#实现函数柯里化（支持多次调用）" class="headerlink" title="实现函数柯里化（支持多次调用）"></a>实现函数柯里化（支持多次调用）</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">add</span>(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>)(); <span class="comment">// 输出 6</span></span><br><span class="line"><span class="title function_">add</span>(<span class="number">5</span>, <span class="number">10</span>)(<span class="number">15</span>)(); <span class="comment">// 输出 30</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span> (<span class="params">...args</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> sum = args.<span class="title function_">reduce</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a+b, <span class="number">0</span>) <span class="comment">// 一次调用</span></span><br><span class="line">    <span class="comment">// 链式调用</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">next</span>(<span class="params">...rest</span>) = &#123;</span><br><span class="line">        <span class="keyword">if</span>(rest.<span class="property">length</span> === <span class="number">0</span>) <span class="keyword">return</span> sum <span class="comment">// 执行到了()就停止</span></span><br><span class="line">        sum += rest.<span class="title function_">reduce</span>(<span class="function">(<span class="params">a,b</span>) =&gt;</span> a+b, <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> next </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> next </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="场景题"><a href="#场景题" class="headerlink" title="场景题"></a>场景题</h2><h3 id="你要开发一个带侧边栏的后台管理系统，该系统需要权限控制，不同角色显示不同菜单。你会如何设计路由与菜单系统的权限关联？请列出你的思路和方案。"><a href="#你要开发一个带侧边栏的后台管理系统，该系统需要权限控制，不同角色显示不同菜单。你会如何设计路由与菜单系统的权限关联？请列出你的思路和方案。" class="headerlink" title="你要开发一个带侧边栏的后台管理系统，该系统需要权限控制，不同角色显示不同菜单。你会如何设计路由与菜单系统的权限关联？请列出你的思路和方案。"></a>你要开发一个带侧边栏的后台管理系统，该系统需要权限控制，不同角色显示不同菜单。你会如何设计路由与菜单系统的权限关联？请列出你的思路和方案。</h3><ul>
<li>菜单过滤展示</li>
<li>路由过滤+路由守卫</li>
<li>权限模型</li>
</ul>
<h3 id="你在做一个内容管理系统（CMS），需要给编辑和管理员分别展示不同的操作权限页面（如审核、发布、删除等）。你会如何设计权限系统，做到灵活配置和前端判断？"><a href="#你在做一个内容管理系统（CMS），需要给编辑和管理员分别展示不同的操作权限页面（如审核、发布、删除等）。你会如何设计权限系统，做到灵活配置和前端判断？" class="headerlink" title="你在做一个内容管理系统（CMS），需要给编辑和管理员分别展示不同的操作权限页面（如审核、发布、删除等）。你会如何设计权限系统，做到灵活配置和前端判断？"></a>你在做一个内容管理系统（CMS），需要给编辑和管理员分别展示不同的操作权限页面（如审核、发布、删除等）。你会如何设计权限系统，做到灵活配置和前端判断？</h3><p>思考点：角色设计、权限粒度、菜单/按钮控制、权限缓存处理、动态渲染方案。</p>
<h3 id="「系统设计类」"><a href="#「系统设计类」" class="headerlink" title="「系统设计类」"></a>「系统设计类」</h3><blockquote>
<p>假设你需要设计一个 Web 多标签页登录状态同步系统，要求：<br>A 标签页登录后 B 标签页自动同步状态<br>用户主动退出任一标签页时其余标签页也需登出<br>不刷新页面</p>
</blockquote>
<h3 id="公司新上线了一个后台管理系统，某页面的加载速度变得非常慢，请你作为前端工程师从以下角度出发进行分析和优化（可写出处理步骤和可能的代码优化点）："><a href="#公司新上线了一个后台管理系统，某页面的加载速度变得非常慢，请你作为前端工程师从以下角度出发进行分析和优化（可写出处理步骤和可能的代码优化点）：" class="headerlink" title="公司新上线了一个后台管理系统，某页面的加载速度变得非常慢，请你作为前端工程师从以下角度出发进行分析和优化（可写出处理步骤和可能的代码优化点）："></a>公司新上线了一个后台管理系统，某页面的加载速度变得非常慢，请你作为前端工程师从以下角度出发进行分析和优化（可写出处理步骤和可能的代码优化点）：</h3><ul>
<li>网络层（请求、接口）</li>
<li>页面结构（DOM 结构复杂度）</li>
<li>静态资源加载（JS/CSS/Image）</li>
<li>前端代码逻辑（如渲染频繁、长列表处理）</li>
</ul>
<h3 id="请简要阐述-Virtual-DOM-的工作原理，并说明其对性能的优化体现在哪些方面？你在实际开发中是否遇到过性能瓶颈，如何定位和优化？"><a href="#请简要阐述-Virtual-DOM-的工作原理，并说明其对性能的优化体现在哪些方面？你在实际开发中是否遇到过性能瓶颈，如何定位和优化？" class="headerlink" title="请简要阐述 Virtual DOM 的工作原理，并说明其对性能的优化体现在哪些方面？你在实际开发中是否遇到过性能瓶颈，如何定位和优化？"></a>请简要阐述 Virtual DOM 的工作原理，并说明其对性能的优化体现在哪些方面？你在实际开发中是否遇到过性能瓶颈，如何定位和优化？</h3><h3 id="某个上线后的页面，用户反馈“点击保存按钮后页面卡住，无任何反馈”。你作为研发负责人，如何快速定位问题？请列出至少-5-个排查方向。"><a href="#某个上线后的页面，用户反馈“点击保存按钮后页面卡住，无任何反馈”。你作为研发负责人，如何快速定位问题？请列出至少-5-个排查方向。" class="headerlink" title="某个上线后的页面，用户反馈“点击保存按钮后页面卡住，无任何反馈”。你作为研发负责人，如何快速定位问题？请列出至少 5 个排查方向。"></a>某个上线后的页面，用户反馈“点击保存按钮后页面卡住，无任何反馈”。你作为研发负责人，如何快速定位问题？请列出至少 5 个排查方向。</h3><h3 id="某业务系统在最近一个月内偶尔会出现“下单失败”，用户投诉越来越多。你发现日志里报错-“orderCreate-failed-stock-info-invalid”，但有时刷新页面后就可以下单。请列出-3-种可能的技术原因和验证思路。"><a href="#某业务系统在最近一个月内偶尔会出现“下单失败”，用户投诉越来越多。你发现日志里报错-“orderCreate-failed-stock-info-invalid”，但有时刷新页面后就可以下单。请列出-3-种可能的技术原因和验证思路。" class="headerlink" title="某业务系统在最近一个月内偶尔会出现“下单失败”，用户投诉越来越多。你发现日志里报错 “orderCreate failed: stock info invalid”，但有时刷新页面后就可以下单。请列出 3 种可能的技术原因和验证思路。"></a>某业务系统在最近一个月内偶尔会出现“下单失败”，用户投诉越来越多。你发现日志里报错 “orderCreate failed: stock info invalid”，但有时刷新页面后就可以下单。请列出 3 种可能的技术原因和验证思路。</h3><h3 id="你在开发一个富文本编辑器插件时，需要记录用户每一步操作，以便提供“撤销-重做”功能。"><a href="#你在开发一个富文本编辑器插件时，需要记录用户每一步操作，以便提供“撤销-重做”功能。" class="headerlink" title="你在开发一个富文本编辑器插件时，需要记录用户每一步操作，以便提供“撤销/重做”功能。"></a>你在开发一个富文本编辑器插件时，需要记录用户每一步操作，以便提供“撤销/重做”功能。</h3><p>问题：你会如何使用闭包实现一个“操作记录栈”？<br>要求支持：</p>
<ul>
<li>do(action)</li>
<li>undo()</li>
<li>redo()<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createHistoryStack</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> stack = [];</span><br><span class="line">    <span class="keyword">const</span> redoStack = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="title function_">do</span>(<span class="params">action</span>) &#123;</span><br><span class="line">            stack.<span class="title function_">push</span>(action)</span><br><span class="line">            redoStack.<span class="property">length</span> = <span class="number">0</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">undo</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="keyword">let</span> last = stack.<span class="title function_">pop</span>()</span><br><span class="line">            <span class="keyword">if</span>(last) redoStack.<span class="title function_">push</span>(last)</span><br><span class="line">            <span class="keyword">return</span> last</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">redo</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="keyword">let</span> redo = redoStack.<span class="title function_">pop</span>()</span><br><span class="line">            <span class="keyword">if</span>(redo) redoStack.<span class="title function_">push</span>(redo)</span><br><span class="line">            <span class="keyword">return</span> redo</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">list</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> [...stack]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="需要渲染大量数据，怎么优化"><a href="#需要渲染大量数据，怎么优化" class="headerlink" title="需要渲染大量数据，怎么优化"></a>需要渲染大量数据，怎么优化</h3><ul>
<li><p>减少首屏压力（虚拟列表，分批渲染）</p>
</li>
<li><p>避免面每次都整体重新渲染</p>
<ul>
<li>组件分片</li>
<li>key精准diff</li>
</ul>
</li>
<li><p>合理利用will-change减少不必要的重绘重排，统一修改样式</p>
</li>
<li><p>数据预处理</p>
<ul>
<li>必要时后端分页、前端懒加载</li>
<li>数据压缩</li>
</ul>
</li>
<li><p>总的来说，能不渲染就不渲染，渲染也选择分批，分离组件快diff</p>
</li>
<li><p>虚拟列表，只渲染可视区域内的元素，其余用空白占位</p>
<ul>
<li>核心思路：滚动监听scrollTop；根据可视高度+item高度计算开始和结束的索引；只渲染这段数据</li>
<li>简单来说，就是只展示看到的，算好偏移量，用div占坑</li>
</ul>
</li>
</ul>
<h3 id="虚拟列表滚动很卡，怎么排查"><a href="#虚拟列表滚动很卡，怎么排查" class="headerlink" title="虚拟列表滚动很卡，怎么排查"></a>虚拟列表滚动很卡，怎么排查</h3><p>（录制性能，找出谁在疯狂算，按模块下药。）</p>
<ul>
<li>性能面板performance分析</li>
<li>找出卡顿点，（滚动的时候重绘了？频繁读写DOM了？）</li>
<li>针对性优化<ul>
<li>防抖节流处理，降低频率</li>
<li>虚拟滚动</li>
<li>图片懒加载</li>
</ul>
</li>
</ul>
<h3 id="大量图片加载页面很慢，怎么优化？"><a href="#大量图片加载页面很慢，怎么优化？" class="headerlink" title="大量图片加载页面很慢，怎么优化？"></a>大量图片加载页面很慢，怎么优化？</h3><p>（看得见才加载，小图合成大图，格式压缩快传。）</p>
<ul>
<li>懒加载</li>
<li>雪碧图</li>
<li>压缩图片，webp、svg</li>
<li>CDN加速，参数处理</li>
<li>骨架屏</li>
</ul>
<h2 id="回答口诀"><a href="#回答口诀" class="headerlink" title="回答口诀"></a>回答口诀</h2><h3 id="对一系列优化题可以开头说"><a href="#对一系列优化题可以开头说" class="headerlink" title="对一系列优化题可以开头说"></a>对一系列优化题可以开头说</h3><ul>
<li>如果面对需要渲染大量数据，我通常会从两方面考虑：</li>
<li>一是减少渲染压力（比如虚拟列表、懒加载）</li>
<li>二是减少更新开销（比如分批更新、组件拆分、合理diff） 根据实际业务场景选择最适合的方法。</li>
</ul>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul>
<li>总结本质（这个问题本质上是；理解这个问题，关键在于）</li>
<li>列出框架（我一般从 X、Y、Z 这几个方面来考虑；可以分为A处理、B处理、C处理三部分）</li>
<li>展开细节（比如在 X 场景下，我会用……方法……原因是；在实际项目中，我曾经遇到……，当时采用了）</li>
<li>收尾总结 （整体来说，就是。。。）</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">这个问题其实很常见，本质上是____，我一般会从____几个角度来考虑，比如____。下面我可以简单展开一两个点。</span><br></pre></td></tr></table></figure>
  </div>
</article>

        
        
      </div>
      <footer class="footer">
    <div class="footer-content">
        <p>&copy; 2025 蘑菇小记</p>
        <p class="copyright">All rights reserved.</p>
    </div>
</footer>
    </div>
    <button id="back-to-top" title="回到顶部">↑</button>
  </body>
</html>
